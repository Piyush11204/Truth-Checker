<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Truth Checker - Advanced Fake News Detection</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
</head>
<body class="bg-gray-50 text-gray-800 flex flex-col min-h-screen">
    <header class="bg-blue-700 text-white text-center py-8 shadow-lg">
        <div class="container mx-auto px-4">
            <h1 class="text-4xl font-bold mb-2">Truth Checker</h1>
            <p class="text-xl">Advanced Fake News Detection Tool</p>
            <div class="mt-4 max-w-2xl mx-auto">
                <div class="bg-blue-600 rounded-lg p-3 text-sm">
                    Our AI model analyzes linguistic patterns, content structure, and semantic features 
                    to assess the credibility of news content from text, images, documents, or links
                </div>
            </div>
        </div>
    </header>
            
    <nav class="bg-blue-800 text-white py-2">
        <div class="container mx-auto px-4 flex justify-center space-x-6">
            <a href="#" class="hover:underline py-1">Home</a>
            <a href="#" class="hover:underline py-1">How It Works</a>
            <a href="#" class="hover:underline py-1">Recent Checks</a>
            <a href="#" class="hover:underline py-1">FAQ</a>
        </div>
    </nav>
            (〜￣▽￣)〜hehehehe
    <div class="container mx-auto px-4 max-w-5xl my-8 flex-grow">
        <div class="bg-white rounded-lg shadow-md p-8 mb-8">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">Analyze News Content</h2>
            <p class="mb-6 text-gray-600">Submit news content via text, image (jpg, png), document (docx, pdf), or URL to check its credibility using our advanced AI algorithms. Our model analyzes various features to identify potentially misleading information.</p>
            
            <form id="newsForm" action="/" method="POST" enctype="multipart/form-data" onsubmit="showLoading()">
                <div class="mb-6">
                    <label for="newsText" class="block font-bold mb-2 text-gray-700">Enter news text for analysis:</label>
                    <textarea 
                        id="newsText" 
                        name="txt" 
                        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 min-h-[150px]" 
                        rows="6" 
                        placeholder="Paste or type the news text you want to verify..."
                        aria-describedby="textHelp">{{ request.form['txt'] if request.form['txt'] }}</textarea>
                </div>
                
                <div class="mb-6">
                    <label for="newsImage" class="block font-bold mb-2 text-gray-700">Upload news image (jpg, png):</label>
                    <input 
                        type="file" 
                        id="newsImage" 
                        name="image" 
                        accept="image/jpeg,image/png" 
                        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" 
                        aria-describedby="imageHelp">
                    <div id="imageHelp" class="mt-2 text-sm text-gray-500">
                        Upload screenshots or images containing news content. Max size: 5MB.
                    </div>
                </div>
                
                <div class="mb-6">
                    <label for="newsDoc" class="block font-bold mb-2 text-gray-700">Upload document (docx, pdf):</label>
                    <input 
                        type="file" 
                        id="newsDoc" 
                        name="document" 
                        accept=".docx,application/pdf" 
                        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" 
                        aria-describedby="docHelp">
                    <div id="docHelp" class="mt-2 text-sm text-gray-500">
                        Upload news articles in docx or pdf format. Max size: 10MB.
                    </div>
                </div>
                
                <div class="mb-6">
                    <label for="newsUrl" class="block font-bold mb-2 text-gray-700">Enter news URL:</label>
                    <input 
                        type="url" 
                        id="newsUrl" 
                        name="url" 
                        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" 
                        placeholder="https://example.com/news-article" 
                        aria-describedby="urlHelp">
                    <div id="urlHelp" class="mt-2 text-sm text-gray-500">
                        Provide a direct link to the news article online.
                    </div>
                </div>
                
                <div class="flex flex-wrap items-center gap-4">
                    <button type="submit" name="submit" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-md transition duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
                        </svg>
                        Analyze Content
                    </button>
                    <button type="button" id="clearButton" class="bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-3 px-6 rounded-md transition duration-200">
                        Clear
                    </button>
                    <div class="text-sm text-gray-500 ml-auto">
                        Analysis takes approximately 2-10 seconds
                    </div>
                </div>
                
                <div id="formError" class="hidden mt-4 p-4 bg-red-50 border border-red-300 rounded-lg text-sm text-red-700">
                    Please provide at least one input (text, image, document, or URL).
                </div>
            </form>
            
            <div id="loadingIndicator" class="hidden text-center my-8 py-6">
                <div class="inline-block animate-spin rounded-full h-10 w-10 border-4 border-gray-200 border-t-blue-600"></div>
                <p class="mt-4 text-lg">Analyzing content...</p>
                <p class="text-sm text-gray-500 mt-2">Our AI model is processing the input</p>
            </div>
        </div>
        
        {% if request.method == 'POST' and (request.form['txt'] or request.files['image'] or request.files['document'] or request.form['url']) %}
        <div class="bg-white rounded-lg shadow-md p-8 mb-8">
            <h3 class="text-2xl font-bold text-gray-800 mb-6">Analysis Results</h3>
            
            <div class="mb-8">
                <h4 class="text-lg font-semibold mb-3 flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                    </svg>
                    Analyzed Content:
                </h4>
                {% if request.form['txt'] %}
                <div class="bg-gray-50 p-5 rounded-md border border-gray-200 whitespace-pre-wrap break-words text-gray-700">{{ request.form['txt'] }}</div>
                {% endif %}
                {% if request.files['image'] %}
                <div class="bg-gray-50 p-5 rounded-md border border-gray-200">
                    <img src="{{ image_url }}" alt="Uploaded news image" class="max-w-full h-auto rounded-md">
                </div>
                {% endif %}
                {% if request.files['document'] %}
                <div class="bg-gray-50 p-5 rounded-md border border-gray-200">
                    <p class="text-gray-700">Document: {{ document_name }}</p>
                    <a href="{{ document_url }}" class="text-blue-600 hover:underline" target="_blank">View Document</a>
                </div>
                {% endif %}
                {% if request.form['url'] %}
                <div class="bg-gray-50 p-5 rounded-md border border-gray-200">
                    <a href="{{ request.form['url'] }}" class="text-blue-600 hover:underline break-all" target="_blank">{{ request.form['url'] }}</a>
                </div>
                {% endif %}
                <div class="mt-2 text-sm text-gray-500 flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    Analysis timestamp: {{ timestamp|default(current_time) }}
                </div>
            </div>
            
            <div class="mb-8">
                <h4 class="text-xl font-semibold mb-4 flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
                    </svg>
                    Credibility Assessment:
                </h4>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="md:col-span-2">
                        {% if result is defined and result <= 50 %}
                            <div class="p-6 rounded-md text-center font-bold text-xl bg-red-50 border-2 border-red-500 text-red-600">
                                <span role="img" aria-label="Warning">⚠️</span> LIKELY FAKE NEWS
                                <p class="text-sm font-normal mt-2">Our analysis detected several indicators of misleading content</p>
                            </div>
                            <div class="mt-4 p-4 bg-red-50 rounded-md border border-red-200">
                                <h5 class="font-semibold text-red-800 mb-2">Fake News Probability</h5>
                                <p class="text-sm text-red-700">Probability of being fake: {{ "%.1f"|format(probabilities.fake|default(65)) }}%</p>
                                <h6 class="text-sm font-semibold mt-3 mb-2">Contributing Factors:</h6>
                                <ul class="text-sm text-red-700 pl-5 list-disc space-y-1">
                                    {% for factor in fake_factors|default(['Sensationalist language', 'Lack of source attribution', 'Emotional manipulation']) %}
                                        <li>{{ factor }}</li>
                                    {% endfor %}
                                </ul>
                            </div>
                        {% else %}
                            <div class="p-6 rounded-md text-center font-bold text-xl bg-green-50 border-2 border-green-500 text-green-600">
                                <span role="img" aria-label="Verified">✓</span> LIKELY RELIABLE
                                <p class="text-sm font-normal mt-2">This content aligns with credible journalism standards</p>
                            </div>
                            <div class="mt-4 p-4 bg-green-50 rounded-md border border-green-200">
                                <h5 class="font-semibold text-green-800 mb-2">References & Sources</h5>
                                <ul class="text-sm text-green-700 pl-5 list-disc space-y-1">
                                    {% for ref in references|default(['Source: BBC News (https://www.bbc.com)', 'Source: Reuters (https://www.reuters.com)', 'Platform: Official Government Website']) %}
                                        <li>{{ ref }}</li>
                                    {% endfor %}
                                </ul>
                            </div>
                        {% endif %}
                        
                        <!-- Confidence Meter -->
                        <div class="mt-6">
                            <div class="flex justify-between mb-2">
                                <span class="text-sm font-medium">Model Confidence Level</span>
                                <span class="text-sm font-bold">
                                    {{ "%.1f"|format(confidence|default(75.5)) }}%
                                </span>
                            </div>
                            <div class="h-4 bg-gray-200 rounded-full overflow-hidden">
                                <div class="h-full {{ 'bg-red-500' if (result is defined and result <= 60) else 'bg-green-500' }} rounded-full" 
                                     style="width: {{ confidence|default(75.5) }}%"></div>
                            </div>
                            <div class="mt-1 text-xs text-gray-500 italic">Based on {{ analysis_data_points|default(12) }} features</div>
                        </div>
                    </div>
                    
                    <div class="bg-gray-50 p-5 rounded-lg border border-gray-200">
                        <h5 class="font-semibold text-center mb-3">Truth Score</h5>
                        <div class="relative">
                            <canvas id="truthMeter" width="150" height="150"></canvas>
                            <div class="absolute inset-0 flex items-center justify-center">
                                <div class="text-center">
                                    <div class="text-3xl font-bold">
                                        {{ "%.0f"|format(probabilities.real|default(65)) }}
                                    </div>
                                    <div class="text-xs">out of 100</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Detailed Analysis (Retained from original) -->
            <div class="mt-8">
                <h4 class="text-xl font-semibold mb-4">Detailed Analysis</h4>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="p-5 bg-white border rounded-lg shadow-sm">
                        <h5 class="font-bold mb-3 text-blue-800">Language Patterns</h5>
                        <div class="space-y-4">
                            <div>
                                <h6 class="text-sm font-semibold flex items-center">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                                    </svg>
                                    Sentiment
                                </h6>
                                <div class="flex items-center mt-1">
                                    <div class="w-full bg-gray-200 rounded-full h-2 mr-2">
                                        <div class="bg-blue-500 h-2 rounded-full" style="width: {{ sentiment_score|default(48) }}%"></div>
                                    </div>
                                    <span class="text-xs font-medium">{{ sentiment_label|default('Neutral') }}</span>
                                </div>
                            </div>
                            <div>
                                <h6 class="text-sm font-semibold flex items-center">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg>
                                    Emotional Language
                                </h6>
                                <div class="flex items-center mt-1">
                                    <div class="w-full bg-gray-200 rounded-full h-2 mr-2">
                                        <div class="bg-blue-500 h-2 rounded-full" style="width: {{ emotional_score|default(35) }}%"></div>
                                    </div>
                                    <span class="text-xs font-medium">{{ emotional_label|default('Low') }}</span>
                                </div>
                            </div>
                            <div>
                                <h6 class="text-sm font-semibold flex items-center">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4" />
                                    </svg>
                                    Sensationalism
                                </h6>
                                <div class="flex items-center mt-1">
                                    <div class="w-full bg-gray-200 rounded-full h-2 mr-2">
                                        <div class="bg-blue-500 h-2 rounded-full" style="width: {{ sensationalism_score|default(30) }}%"></div>
                                    </div>
                                    <span class="text-xs font-medium">{{ sensationalism_label|default('Low') }}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="p-5 bg-white border rounded-lg shadow-sm">
                        <h5 class="font-bold mb-3 text-blue-800">Content Structure</h5>
                        <div class="space-y-4">
                            <div>
                                <h6 class="text-sm font-semibold flex items-center">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                                    </svg>
                                    Complexity
                                </h6>
                                <div class="flex items-center mt-1">
                                    <div class="w-full bg-gray-200 rounded-full h-2 mr-2">
                                        <div class="bg-blue-500 h-2 rounded-full" style="width: {{ complexity_score|default(72) }}%"></div>
                                    </div>
                                    <span class="text-xs font-medium">{{ complexity_label|default('Moderate') }}</span>
                                </div>
                            </div>
                            <div>
                                <h6 class="text-sm font-semibold flex items-center">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg>
                                    Bias Level
                                </h6>
                                <div class="flex items-center mt-1">
                                    <div class="w-full bg-gray-200 rounded-full h-2 mr-2">
                                        <div class="bg-blue-500 h-2 rounded-full" style="width: {{ bias_score|default(35) }}%"></div>
                                    </div>
                                    <span class="text-xs font-medium">{{ bias_label|default('Low') }}</span>
                                </div>
                            </div>
                            <div>
                                <h6 class="text-sm font-semibold flex items-center">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4" />
                                    </svg>
                                    Source Transparency
                                </h6>
                                <div class="flex items-center mt-1">
                                    <div class="w-full bg-gray-200 rounded-full h-2 mr-2">
                                        <div class="bg-blue-500 h-2 rounded-full" style="width: {{ source_transparency_score|default(68) }}%"></div>
                                    </div>
                                    <span class="text-xs font-medium">{{ source_transparency_label|default('Good') }}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Recommendations -->
            <div class="mt-8 p-6 bg-blue-50 rounded-lg border border-blue-200">
                <h4 class="text-lg font-semibold mb-3 text-blue-800 flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    Recommendations
                </h4>
                <ul class="mt-2 space-y-2 text-sm text-blue-800">
                    <li class="flex items-start">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-blue-600 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                        </svg>
                        <span>{{ recommendation_1|default('Cross-reference with established news sources or fact-checking websites.') }}</span>
                    </li>
                    <li class="flex items-start">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-blue-600 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                        </svg>
                        <span>{{ recommendation_2|default('Verify the credibility of the source or author.') }}</span>
                    </li>
                    <li class="flex items-start">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-blue-600 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                        </svg>
                        <span>{{ recommendation_3|default('Seek multiple perspectives for a balanced understanding.') }}</span>
                    </li>
                </ul>
            </div>
        </div>
        {% endif %}
        
        <div class="bg-white rounded-lg shadow-md p-8 mb-8">
            <h3 class="text-2xl font-bold text-gray-800 mb-6">How Our AI Detection Works</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div>
                    <h4 class="text-lg font-semibold mb-3 text-blue-700 flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
                        </svg>
                        Multi-Input Analysis
                    </h4>
                    <p class="text-gray-600">Our AI processes multiple input types to assess credibility:</p>
                    <ul class="mt-2 space-y-1 text-gray-600 pl-5 list-disc">
                        <li>Text: Linguistic patterns and sentiment analysis</li>
                        <li>Images: OCR and visual content verification</li>
                        <li>Documents: Text extraction and structural analysis</li>
                        <li>URLs: Web content scraping and source validation</li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-lg font-semibold mb-3 text-blue-700 flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 21h7a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v11m0 5l4.879-4.879m0 0a3 3 0 104.243-4.242 3 3 0 00-4.243 4.242z" />
                        </svg>
                        Credibility Assessment
                    </h4>
                    <p class="text-gray-600">Our model evaluates content for reliability by analyzing:</p>
                    <ul class="mt-2 space-y-1 text-gray-600 pl-5 list-disc">
                        <li>Source transparency and attribution</li>
                        <li>Presence of emotional or sensationalist language</li>
                        <li>Balance of perspectives</li>
                        <li>Consistency with verified sources</li>
                    </ul>
                </div>
            </div>
            
            <div class="mt-8 text-center">
                <p class="text-sm text-gray-500 max-w-2xl mx-auto">
                    <strong>Note:</strong> This tool provides an automated assessment based on patterns associated with reliable vs. unreliable content. 
                    Always verify information with multiple sources.
                </p>
            </div>
        </div>
    </div>
    
    <footer class="bg-gray-800 text-white py-10 mt-auto">
        <div class="container mx-auto px-4">
            <div class="flex flex-wrap justify-between">
                <div class="w-full md:w-1/3 mb-6 md:mb-0">
                    <h3 class="text-xl font-bold mb-4">Truth Checker</h3>
                    <p class="text-gray-300 text-sm">
                        An advanced tool for detecting misleading information online.
                        Promoting media literacy and critical thinking.
                    </p>
                </div>
                <div class="w-full md:w-1/4 mb-6 md:mb-0">
                    <h4 class="font-bold mb-4">Quick Links</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-300 hover:text-white transition">API Access</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-white transition">Developer Resources</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-white transition">Research Papers</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-white transition">Case Studies</a></li>
                    </ul>
                </div>
                <div class="w-full md:w-1/4">
                    <h4 class="font-bold mb-4">Learn More</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-300 hover:text-white transition">About Our Model</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-white transition">Media Literacy Tips</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-white transition">Verification Techniques</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-white transition">Contact Us</a></li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-8 text-sm text-gray-400 text-center">
                <p>© 2025 Truth Checker. All rights reserved.</p>
            </div>
        </div>
    </footer>
    
    <script>
        function showLoading() {
            const form = document.getElementById('newsForm');
            const text = document.getElementById('newsText').value.trim();
            const image = document.getElementById('newsImage').files[0];
            const doc = document.getElementById('newsDoc').files[0];
            const url = document.getElementById('newsUrl').value.trim();
            const errorDiv = document.getElementById('formError');
            
            // Validate that at least one input is provided
            if (!text && !image && !doc && !url) {
                errorDiv.classList.remove('hidden');
                return false;
            }
            
            errorDiv.classList.add('hidden');
            document.getElementById('loadingIndicator').classList.remove('hidden');
            return true;
        }
        
        // Clear button functionality
        document.getElementById('clearButton').addEventListener('click', function() {
            const form = document.getElementById('newsForm');
            const errorDiv = document.getElementById('formError');
            
            // Reset all form fields
            form.reset();
            
            // Explicitly clear file inputs (some browsers don't clear file inputs with form.reset())
            document.getElementById('newsImage').value = '';
            document.getElementById('newsDoc').value = '';
            document.getElementById('newsText').value = '';
            document.getElementById('newsUrl').value = '';
            
            // Hide error message if visible
            errorDiv.classList.add('hidden');
        });
        
        // File input validation
        document.getElementById('newsImage').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file && file.size > 5 * 1024 * 1024) {
                alert('Image file size exceeds 5MB limit.');
                e.target.value = '';
            }
        });
        
        document.getElementById('newsDoc').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file && file.size > 10 * 1024 * 1024) {
                alert('Document file size exceeds 10MB limit.');
                e.target.value = '';
            }
        });
        
        // Initialize truth meter chart if results are shown
        window.onload = function() {
            const truthMeterCanvas = document.getElementById('truthMeter');
            if (truthMeterCanvas) {
                const ctx = truthMeterCanvas.getContext('2d');
                const truthScore = {{ probabilities.real|default(65) }};
                
                new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        datasets: [{
                            data: [truthScore, 100 - truthScore],
                            backgroundColor: [
                                truthScore > 50 ? '#10B981' : '#EF4444',
                                '#E5E7EB'
                            ],
                            borderWidth: 0
                        }]
                    },
                    options: {
                        cutout: '70%',
                        responsive: true,
                        maintainAspectRatio: true,
                        plugins: {
                            legend: { display: false },
                            tooltip: { enabled: false }
                        }
                    }
                });
            }
        };
    </script>
</body>
</html>